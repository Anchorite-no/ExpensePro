# ExpensePro ğŸ’°

**ExpensePro** æ˜¯ä¸€æ¬¾ç°ä»£åŒ–çš„å…¨æ ˆä¸ªäººè®°è´¦åŠ©æ‰‹ï¼Œæ·±åº¦é›†æˆ **Google Gemini AI**ï¼Œè®©è®°è´¦å˜å¾—æ™ºèƒ½ã€é«˜æ•ˆä¸”ç›´è§‚ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/frontend-React_19_%2B_Vite-61DAFB.svg)
![Backend](https://img.shields.io/badge/backend-Express_%2B_Drizzle-green.svg)
![AI](https://img.shields.io/badge/AI-Google_Gemini-8E75B2.svg)

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– AI æ™ºèƒ½è®°è´¦
å‘Šåˆ«ç¹ççš„æ‰‹åŠ¨è¾“å…¥ï¼åªéœ€ä¸Šä¼ æˆ–ç²˜è´´æ¶ˆè´¹å°ç¥¨å›¾ç‰‡ï¼Œ**Google Gemini AI** (æ”¯æŒ 2.0 Flash / 3.0 Flash Preview) å³å¯è‡ªåŠ¨è¯†åˆ«ï¼š
*   å•†å®¶åç§°
*   æ¶ˆè´¹é‡‘é¢
*   æ¶ˆè´¹æ—¥æœŸï¼ˆæ™ºèƒ½æ¨æ–­å¹´ä»½ï¼‰
*   æ¶ˆè´¹åˆ†ç±»
*   **æ”¯æŒæ‰¹é‡è¯†åˆ«**ï¼šä¸€æ¬¡æ€§æå–å¤šæ¡è®°å½•ã€‚
*   **å›¾ç‰‡é¢„è§ˆ**ï¼šç‚¹å‡»ç¼©ç•¥å›¾å¯å…¨å±æŸ¥çœ‹å°ç¥¨ç»†èŠ‚ã€‚

### ğŸ“Š äº¤äº’å¼æ•°æ®çœ‹æ¿
*   **èµ„äº§æ¦‚è§ˆ**ï¼šå®æ—¶æŒæ¡æ€»æ”¯å‡ºã€äº¤æ˜“ç¬”æ•°åŠå•ç¬”æœ€é«˜æ¶ˆè´¹ã€‚
*   **è¶‹åŠ¿åˆ†æ**ï¼š
    *   **å…¨å®½å †ç§¯é¢ç§¯å›¾**ï¼šç›´è§‚å±•ç¤ºåˆ†ç±»æ”¯å‡ºçš„æ—¶é—´å˜åŒ–è¶‹åŠ¿ã€‚
    *   **æ¯æ—¥æ˜ç»†å †å å›¾**ï¼šç²¾ç¡®åˆ°æ¯ä¸€å¤©çš„æ¶ˆè´¹ç»“æ„ã€‚
    *   **åˆ†ç±»å æ¯”é¥¼å›¾**ï¼šæ¸…æ™°çš„æ”¯å‡ºæ„æˆåˆ†å¸ƒã€‚
*   **å¤šç»´åº¦ç­›é€‰**ï¼šæ”¯æŒæŒ‰è¿‘7å¤©ã€30å¤©ã€90å¤©æˆ–å…¨éƒ¨æ—¶é—´æ®µç­›é€‰æ•°æ®ã€‚

### ğŸ¨ ç°ä»£åŒ– UI/UX
*   **è‡ªå®šä¹‰ç»„ä»¶**ï¼šå…¨ç«™ç»Ÿä¸€çš„åœ†è§’æ‚¬æµ®ä¸‹æ‹‰èœå•ï¼Œå¸¦é¢œè‰²æ ‡è¯†å’Œæµç•…åŠ¨ç”»ã€‚
*   **æ·±è‰²æ¨¡å¼**ï¼šå†…ç½® Light/Dark ä¸»é¢˜åˆ‡æ¢ï¼Œé€‚é…æ‰€æœ‰å…‰ç…§ç¯å¢ƒã€‚
*   **åˆ†ç±»ç®¡ç†**ï¼šæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰æ·»åŠ ã€åˆ é™¤å’Œæ’åºæ¶ˆè´¹åˆ†ç±»ï¼Œä¸ªæ€§åŒ–å®šåˆ¶ä¸“å±è´¦æœ¬ã€‚
*   **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯ä¸ç§»åŠ¨ç«¯è®¿é—®ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆä¸æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ **å…¨æ ˆ TypeScript** æ¶æ„ã€‚

### å‰ç«¯ (Client)
*   **æ¡†æ¶**: React 19 + Vite 6
*   **è¯­è¨€**: TypeScript 5.9
*   **å›¾è¡¨**: Recharts
*   **æ ·å¼**: CSS Variables (Deep Dark Theme) + Custom UI Components
*   **å›¾æ ‡**: Lucide React

### åç«¯ (Server)
*   **è¿è¡Œæ—¶**: Node.js
*   **æ¡†æ¶**: Express.js
*   **æ•°æ®åº“**: MySQL 8.0
*   **ORM**: Drizzle ORM (ç±»å‹å®‰å…¨)
*   **AI SDK**: Google Generative AI (Native REST API)

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

æœ¬åº”ç”¨åœ¨å¼€å‘æ¨¡å¼ä¸‹é€šè¿‡ Vite çš„åå‘ä»£ç†æ•´åˆä¸ºä¸€ä¸ªæœåŠ¡å…¥å£ï¼Œå¯¹å¤–åªéœ€æš´éœ²å‰ç«¯ç«¯å£ã€‚

```mermaid
graph TD
    User(ç”¨æˆ· / å¤–éƒ¨è®¿é—®) -->|HTTPS / Cloudflare Tunnel| Vite[å‰ç«¯ Vite Server :5173]
    
    subgraph Frontend [å®¢æˆ·ç«¯å±‚]
        Vite --> React[React SPA åº”ç”¨]
        React -->|Axios/Fetch| Proxy[API ä»£ç†é…ç½®]
    end
    
    subgraph Backend [æœåŠ¡ç«¯å±‚ :3001]
        Proxy -->|è½¬å‘ /api è¯·æ±‚| Express[Express API Server]
        Express -->|CRUD æ“ä½œ| Drizzle[Drizzle ORM]
        Express -->|å›¾ç‰‡åˆ†æ| Gemini[Google Gemini AI]
    end
    
    subgraph Data [æ•°æ®å±‚ :3306]
        Drizzle --> MySQL[(MySQL Database)]
    end
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
*   Node.js (v18+)
*   MySQL 8.0
*   Docker & Docker Compose (å¯é€‰)
*   Google Gemini API Key (å¯ä» Google AI Studio è·å–)

### é…ç½®æ­¥éª¤

#### 1. å¤åˆ¶ç¯å¢ƒé…ç½®

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å†…å®¹ï¼š

```env
# æ•°æ®åº“é…ç½®
DB_PASSWORD=ä½ çš„æ•°æ®åº“å¯†ç 
DB_NAME=expense_pro

# åº”ç”¨å¯†é’¥
JWT_SECRET=ä½ çš„JWTå¯†é’¥
# ç”Ÿæˆå‘½ä»¤: openssl rand -hex 64

# AI æœåŠ¡é…ç½® (Gemini)
AI_BASE_URL=https://generativelanguage.googleapis.com/v1beta

NODE_ENV=production
```

#### 2. å¯åŠ¨æ–¹å¼

##### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½² (æ¨è)

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d --build

# åˆå§‹åŒ–æ•°æ®åº“è¡¨
docker exec expensepro-app-1 npx drizzle-kit push

# æŸ¥çœ‹æ—¥å¿—
docker logs -f expensepro-app-1
```

è®¿é—® **http://localhost** å³å¯ä½¿ç”¨ã€‚

##### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
cd client && npm install
cd ../server && npm install

# åˆå§‹åŒ–æ•°æ®åº“è¡¨
cd server
npx drizzle-kit push

# å¯åŠ¨æœåŠ¡
# æ–¹å¼1: åŒå‡» start.bat (Windows)
# æ–¹å¼2: æ‰‹åŠ¨å¯åŠ¨
cd server && npm run dev    # åç«¯ :3001
cd client && npm run dev    # å‰ç«¯ :5173
```

è®¿é—® **http://localhost:5173** å³å¯ä½¿ç”¨ã€‚

---

## ğŸ³ Docker éƒ¨ç½²è¯´æ˜

### ç«¯å£æ˜ å°„

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| å‰ç«¯ | 80 -> 3001 | ç›´æ¥è®¿é—® http://localhost |
| MySQL | 127.0.0.1:3306 | æœ¬åœ°è®¿é—® |

### å¸¸ç”¨å‘½ä»¤

```bash
# å¯åŠ¨æœåŠ¡
docker-compose up -d

# åœæ­¢æœåŠ¡
docker-compose down

# åœæ­¢æœåŠ¡å¹¶åˆ é™¤æ•°æ®
docker-compose down -v

# æŸ¥çœ‹æ—¥å¿—
docker logs -f expensepro-app-1

# é‡å¯åº”ç”¨
docker restart expensepro-app-1

# è¿›å…¥å®¹å™¨
docker exec -it expensepro-app-1 sh
```

### ä»£ç†é…ç½®

å¦‚æœéœ€è¦é€šè¿‡ä»£ç†è®¿é—® AI æœåŠ¡ï¼Œç¼–è¾‘ `docker-compose.yml` ä¸­çš„ç¯å¢ƒå˜é‡ï¼š

```yaml
environment:
  - HTTP_PROXY=http://host.docker.internal:7890
  - HTTPS_PROXY=http://host.docker.internal:7890
```

---

## ğŸŒ Cloudflare Tunnel åˆ†äº«

å¦‚æœä½ æƒ³å°†æœ¬åœ°è¿è¡Œçš„ ExpensePro åˆ†äº«ç»™æœ‹å‹ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ Cloudflare Tunnelã€‚å¾—ç›Šäº Vite çš„åå‘ä»£ç†ï¼Œä½ **åªéœ€è¦æš´éœ²å‰ç«¯ç«¯å£ (5173)**ã€‚

ç¡®ä¿é¡¹ç›®è¿è¡Œä¸­ï¼Œç„¶ååœ¨ç»ˆç«¯æ‰§è¡Œï¼š

```bash
cloudflared tunnel --url http://localhost:5173
```

ä½ å°†è·å¾—ä¸€ä¸ªç±»ä¼¼ `https://purple-river-12345.trycloudflare.com` çš„é“¾æ¥ï¼Œæœ‹å‹è®¿é—®è¯¥é“¾æ¥å³å¯æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ï¼ˆåŒ…æ‹¬ AI è®°è´¦ï¼‰ã€‚

---

## âš™ï¸ AI è®¾ç½®

1.  æ‰“å¼€åº”ç”¨ï¼Œè¿›å…¥ **Dashboard**ã€‚
2.  ç‚¹å‡» "AI æ™ºèƒ½è®°è´¦" å¡ç‰‡å³ä¸Šè§’çš„ **é½¿è½®å›¾æ ‡** âš™ï¸ã€‚
3.  è¾“å…¥æ‚¨çš„ **Google Gemini API Key**ã€‚
4.  é€‰æ‹©åå¥½çš„æ¨¡å‹ï¼ˆæ¨è `gemini-2.0-flash` ä»¥è·å¾—æœ€ä½³é€Ÿåº¦ä¸å‡†ç¡®æ€§å¹³è¡¡ï¼‰ã€‚
5.  è®¾ç½®å°†è‡ªåŠ¨ä¿å­˜åœ¨æœ¬åœ°ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

```text
ExpensePro/
â”œâ”€â”€ client/                 # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # UI ç»„ä»¶ (Charts, Forms, CustomSelect...)
â”‚   â”‚   â”œâ”€â”€ App.tsx         # ä¸»åº”ç”¨é€»è¾‘
â”‚   â”‚   â””â”€â”€ App.css         # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server/                 # Express åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ db/             # Drizzle Schema
â”‚   â”‚   â””â”€â”€ index.ts        # API Endpoints
â”‚   â””â”€â”€ ...
â”œâ”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ start.bat               # ä¸€é”®å¯åŠ¨è„šæœ¬
```

---
Made with â¤ï¸ by Anchorite
